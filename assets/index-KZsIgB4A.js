import{r as S,j as t,L as Mt,R as kt,a as Dt}from"./index-CDYpX6Db.js";function St(n){return/\[.+?\]\s*\[(ì˜¤ì „|ì˜¤í›„)\s*\d+:\d+\]/.test(n)?"mobile":"pc"}function Lt(n,a,o,i){const r=n[0],l=n[1],c=n[2],m=n.index+r.length,g=i>0?i:a.length,p=a.substring(m,g).trim();let x="",N="";const u=l.match(/^(\d+ë…„\s*\d+ì›”\s*\d+ì¼)\s*(ì˜¤ì „|ì˜¤í›„)\s*(\d+:\d+)/);if(u)x=u[1],N=`${u[2]} ${u[3]}`;else{const R=l.match(/^(\d+ë…„\s*\d+ì›”\s*\d+ì¼)/);if(R)x=R[1];else return null}const h=c.split("/")[0].trim(),A=c.trim(),$=je(x,N);return $?{date:x,time:N,name:h,message:p,fullName:A,timestamp:$}:null}function Tt(n){const a=n.split(`
`),o=[],i=new Map,r=/^-+\s*(\d+ë…„\s*\d+ì›”\s*\d+ì¼)\s*\S+\s*-+$/,l=/^\[(.+?)\]\s*\[(ì˜¤ì „|ì˜¤í›„)\s*(\d+:\d+)\]\s*(.*)$/;for(let c=0;c<a.length;c++){const m=a[c].trim(),g=m.match(r);if(g){i.set(c,g[1]);continue}const p=m.match(l);if(p){const[,x,N,u,h]=p;o.push({name:x.trim(),time:`${N} ${u}`,message:h.trim(),lineIndex:c})}}return{messages:o,dateMarkers:i}}function At(n,a){let o="";const i=Array.from(a.keys()).sort((r,l)=>r-l);for(const r of i)if(r<=n)o=a.get(r);else break;return o}function Ct(n){return n.includes("ì‚¬ì§„")||n.includes("photo")||n.includes("image")?"photo":n.includes("ë™ì˜ìƒ")||n.includes("video")?"video":n.includes("ì´ëª¨í‹°ì½˜")||n.includes("emoji")?"emoji":n.match(/https?:\/\//)?"link":n.trim().length===0?"other":"text"}function bt(n){const a=n.match(/(ì˜¤ì „|ì˜¤í›„)\s*(\d+):(\d+)/);if(!a)return-1;const[,o,i]=a;let r=parseInt(i,10);return o==="ì˜¤í›„"&&r!==12?r+=12:o==="ì˜¤ì „"&&r===12&&(r=0),r}function Ft(n){const a=n.match(/(\d+)ë…„\s*(\d+)ì›”\s*(\d+)ì¼/);if(!a)return"ì•Œ ìˆ˜ ì—†ìŒ";const[,o,i,r]=a,l=new Date(parseInt(o,10),parseInt(i,10)-1,parseInt(r,10));return["ì¼ìš”ì¼","ì›”ìš”ì¼","í™”ìš”ì¼","ìˆ˜ìš”ì¼","ëª©ìš”ì¼","ê¸ˆìš”ì¼","í† ìš”ì¼"][l.getDay()]}function je(n,a){const o=n.match(/(\d+)ë…„\s*(\d+)ì›”\s*(\d+)ì¼/);if(!o)return null;const[,i,r,l]=o,c=a.match(/(ì˜¤ì „|ì˜¤í›„)\s*(\d+):(\d+)/);if(!c)return null;const[,m,g,p]=c;let x=parseInt(g,10);const N=parseInt(p,10);return m==="ì˜¤í›„"&&x!==12?x+=12:m==="ì˜¤ì „"&&x===12&&(x=0),new Date(parseInt(i,10),parseInt(r,10)-1,parseInt(l,10),x,N)}function Pt(n){const a=/@([^/\s@]+)(?:\/[^\s@]*)?/g,o=[];let i;for(;(i=a.exec(n))!==null;){const r=i[1].trim();r&&o.push(r)}return o}function Et(n){const a=/[ã…œã… ]{1,}/g,o=n.match(a);return o?o.length:0}function $t(n){const a=/(ã…‹{1,}|ã…{1,}|ã…Š{1,}|í•˜í•˜|í˜¸í˜¸|í—¤í—¤|íˆíˆ|í¬í¬|í‚¥í‚¥)/g,o=n.match(a);return o?o.length:0}function Rt(n){const a=[],o=n.match(/[ê°€-í£]{2,}/g)||[],i=(n.match(/[a-zA-Z]{2,}/g)||[]).map(r=>r.toLowerCase());return a.push(...o,...i),a}function It(n){const a=St(n),o=[];if(a==="mobile"){const{messages:i,dateMarkers:r}=Tt(n);for(const l of i){const c=At(l.lineIndex,r);if(!c)continue;const m=je(c,l.time);m&&o.push({date:c,time:l.time,name:l.name,message:l.message,fullName:l.name,timestamp:m})}}else{const i=/(\d+ë…„\s*\d+ì›”\s*\d+ì¼\s*(?:ì˜¤ì „|ì˜¤í›„)\s*\d+:\d+),\s*([^:\n]+?)\s*:\s*/g,r=[];let l;for(;(l=i.exec(n))!==null;)r.push(l);for(let c=0;c<r.length;c++){const m=r[c],g=c<r.length-1?r[c+1]:null,p=g?g.index:n.length,x=Lt(m,n,m.index,p);x&&o.push(x)}}return o}function $e(n,a,o,i){var Le;const r=It(n),l=[],c=new Map,m=new Map,g=new Map,p=new Map,x={text:0,photo:0,video:0,emoji:0,link:0,other:0},N=new Map,u=new Map,h=new Map,A=new Map,$=new Map,R=new Map,ee=new Map,te=new Map,se=new Map,ne=new Map,H=new Map,ae=new Map,oe=new Map,re=new Map,ie=new Map,ce=new Map,U=new Map,V=new Map,Y=new Map,le=new Map,de=new Map,G=new Map,Z=new Map,me=new Map,J=new Map,Re=["ë²™","ì •ëª¨","ìˆ ","ë§›ì§‘","ê³µì—°","ì—°ìŠµ","ë°´ë“œ","ìŒì•…","ë…¸ë˜","ë¼ì´ë¸Œ","ë½êµ"],ue=i&&i.length>0?i:Re;for(const e of ue)ne.set(e,new Map);let T="",P=null,D=0;const E=new Map,Ie=300*1e3;for(const e of r){if(!e.date||!e.timestamp||a&&e.timestamp<a||o&&e.timestamp>o)continue;l.push(e);const s=c.get(e.name)||0;c.set(e.name,s+1);const f=m.get(e.date)||0;m.set(e.date,f+1);const j=e.timestamp,y=`${j.getFullYear()}ë…„ ${j.getMonth()+1}ì›”`,Te=le.get(y)||0;le.set(y,Te+1);const F=new Date(j);F.setDate(j.getDate()-j.getDay());const Ae=`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}-${String(F.getDate()).padStart(2,"0")}`,ht=de.get(Ae)||0;de.set(Ae,ht+1),G.has(y)||G.set(y,new Set),G.get(y).add(e.name),(!Z.has(e.name)||e.timestamp<Z.get(e.name))&&Z.set(e.name,e.timestamp),(!me.has(e.name)||e.timestamp>me.get(e.name))&&me.set(e.name,e.timestamp),J.has(e.name)||J.set(e.name,new Set),J.get(e.name).add(e.date);const w=bt(e.time);if(w>=0){const d=g.get(w)||0;g.set(w,d+1)}const Ce=Ft(e.date),gt=p.get(Ce)||0;p.set(Ce,gt+1);const q=Ct(e.message);x[q]++;const pt=Pt(e.message);for(const d of pt){const v=N.get(d)||0;N.set(d,v+1),Y.has(e.name)||Y.set(e.name,new Map);const O=Y.get(e.name),Pe=O.get(d)||0;O.set(d,Pe+1)}const be=Et(e.message);if(be>0){const d=u.get(e.name)||0;u.set(e.name,d+be)}const Fe=$t(e.message);if(Fe>0){const d=h.get(e.name)||0;h.set(e.name,d+Fe)}const I=e.message.length,fe=A.get(e.name)||{total:0,count:0};if(fe.total+=I,fe.count+=1,A.set(e.name,fe),q==="text"&&I>0){const d=Rt(e.message);for(const v of d){const O=$.get(v)||0;$.set(v,O+1)}}if(w>=2&&w<5){const d=R.get(e.name)||0;R.set(e.name,d+1)}if(q==="photo"){const d=ee.get(e.name)||0;ee.set(e.name,d+1)}else if(q==="video"){const d=te.get(e.name)||0;te.set(e.name,d+1)}else if(q==="link"){const d=se.get(e.name)||0;se.set(e.name,d+1)}const z=e.message.toLowerCase();for(const d of ue){const O=d.toLowerCase().trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(O,"g").test(z)){const Ee=ne.get(d),wt=Ee.get(e.name)||0;Ee.set(e.name,wt+1)}}const xt=["ì¢‹ì•„","ìµœê³ ","ê³ ë§ˆì›Œ","ì‚¬ë‘","í–‰ë³µ","ì¦ê±°","ë©‹ìˆ","ì˜ˆì˜","ê·€ì—¬","ëŒ€ë°•","ì™„ë²½","í›Œë¥­","ì¢‹ë‹¤","ì¢‹ì€","ì¢‹ê²Œ"],ft=["ì‹«ì–´","ì•ˆë¼","ì•„ë‹ˆ","í™”ë‚˜","ìŠ¬í”„","í˜ë“¤","ì§œì¦","ë¶ˆí¸","ë‚˜ì˜","ì•ˆì¢‹","ë¯¸ì›Œ","ì‹«ë‹¤","ì‹«ì€"],jt=["?","ë­","ì–´ë””","ì–¸ì œ","ëˆ„êµ¬","ì™œ","ì–´ë–»ê²Œ","ë¬´ì—‡","ì–´ë–¤","ëª‡"],yt=["ì™€","í—","ëŒ€ë°•","ì™€ìš°","ì˜¤","ì™€!","í—!","!"];for(const d of xt)if(z.includes(d)){const v=oe.get(e.name)||0;oe.set(e.name,v+1);break}for(const d of ft)if(z.includes(d)){const v=re.get(e.name)||0;re.set(e.name,v+1);break}for(const d of jt)if(z.includes(d)){const v=ie.get(e.name)||0;ie.set(e.name,v+1);break}for(const d of yt)if(z.includes(d)){const v=ce.get(e.name)||0;ce.set(e.name,v+1);break}let b="";if(w>=0&&w<6?b="ìƒˆë²½ (0-5ì‹œ)":w>=6&&w<12?b="ì•„ì¹¨ (6-11ì‹œ)":w>=12&&w<14?b="ì ì‹¬ (12-13ì‹œ)":w>=14&&w<18?b="ì˜¤í›„ (14-17ì‹œ)":w>=18&&w<22?b="ì €ë… (18-21ì‹œ)":b="ë°¤ (22-23ì‹œ)",b){const d=U.get(b)||0;U.set(b,d+1)}const vt=e.message.includes(`
`),B=V.get(e.name)||{oneLine:0,short:0,medium:0,long:0,veryLong:0};!vt&&I>0&&B.oneLine++,I<=5?B.short++:I<=50?B.medium++:I<=100?B.long++:B.veryLong++,V.set(e.name,B);const K=je(e.date,e.time),Nt=3600*1e3;if(P&&K){if(K.getTime()-P.getTime()>=Nt){const v=H.get(e.name)||0;H.set(e.name,v+1)}}else if(!P){const d=H.get(e.name)||0;H.set(e.name,d+1)}if(e.name===T&&K&&P){const d=K.getTime()-P.getTime();if(d>=0&&d<=Ie)D++;else{if(D>0){const v=E.get(T)||0;D>v&&E.set(T,D)}D=1}P=K}else{if(T&&D>0){const d=E.get(T)||0;D>d&&E.set(T,D)}T=e.name,D=1,P=K}}if(T&&D>0){const e=E.get(T)||0;D>e&&E.set(T,D)}const Be=Array.from(c.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),Ke=Array.from(m.entries()).map(([e,s])=>({date:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,10),Oe=Array.from(g.entries()).map(([e,s])=>({hour:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,10),We=Array.from(N.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),He=Array.from(u.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),_e=Array.from(h.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),qe=Array.from(A.entries()).map(([e,s])=>({name:e,avgLength:Math.round(s.total/s.count)})).sort((e,s)=>s.avgLength-e.avgLength).slice(0,20),ze=new Set(["ê·¸ë¦¬ê³ ","ê·¸ëŸ°ë°","ê·¸ë˜ì„œ","ê·¸ëŸ¬ë‚˜","í•˜ì§€ë§Œ","ê·¸ë•Œ","ê·¸ê²ƒ","ì´ê²ƒ","ì €ê²ƒ","the","and","or","but","is","are","was","were","this","that"]),Ue=Array.from($.entries()).filter(([e])=>!ze.has(e)&&e.length>=2).map(([e,s])=>({word:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),Ve=Array.from(R.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),Ye=Array.from(E.entries()).map(([e,s])=>({name:e,maxConsecutive:s})).sort((e,s)=>s.maxConsecutive-e.maxConsecutive).slice(0,20),Ge=Array.from(ee.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),Ze=Array.from(te.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),Je=Array.from(se.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),ye=new Map;for(const e of ue){const s=ne.get(e),f=Array.from(s.entries()).map(([j,y])=>({name:j,count:y})).sort((j,y)=>y.count-j.count).slice(0,10);f.length>0&&ye.set(e,f)}const ve=3600*1e3;for(let e=0;e<l.length;e++){const s=l[e],f=s.timestamp;let j=!0;for(let y=e+1;y<l.length;y++){const F=l[y].timestamp.getTime()-f.getTime();if(F>0&&F<=ve){j=!1;break}if(F>ve)break}if(j){const y=ae.get(s.name)||0;ae.set(s.name,y+1)}}const Qe=Array.from(H.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),Xe=Array.from(ae.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),et=Array.from(oe.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),tt=Array.from(re.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),st=Array.from(ie.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),nt=Array.from(ce.entries()).map(([e,s])=>({name:e,count:s})).sort((e,s)=>s.count-e.count).slice(0,20),Ne=Array.from(U.values()).reduce((e,s)=>e+s,0),at=Array.from(U.entries()).map(([e,s])=>({slot:e,count:s,percentage:Ne>0?s/Ne*100:0})).sort((e,s)=>s.count-e.count);let we=0,Me=0,ke=0,De=0,Se=0;for(const e of V.values())we+=e.oneLine,Me+=e.short,ke+=e.medium,De+=e.long,Se+=e.veryLong;const ot=Array.from(V.entries()).map(([e,s])=>({name:e,oneLine:s.oneLine,short:s.short,medium:s.medium,long:s.long,veryLong:s.veryLong})).sort((e,s)=>{const f=e.oneLine+e.short+e.medium+e.long+e.veryLong;return s.oneLine+s.short+s.medium+s.long+s.veryLong-f}).slice(0,20),C=Array.from(m.entries()).map(([e,s])=>({date:e,count:s})).sort((e,s)=>e.date.localeCompare(s.date)),he=C.length,rt=C.filter(e=>e.count>0).length,it=he>0?l.length/he:0;let ge={date:"",count:0},_={date:"",count:1/0};for(const{date:e,count:s}of C)s>ge.count&&(ge={date:e,count:s}),s<_.count&&s>0&&(_={date:e,count:s});_.count===1/0&&(_={date:((Le=C[0])==null?void 0:Le.date)||"",count:0});let pe={days:0,startDate:"",endDate:""};for(let e=0;e<C.length-1;e++){const s=new Date(C[e].date),f=new Date(C[e+1].date),j=Math.floor((f.getTime()-s.getTime())/(1e3*60*60*24));j>pe.days&&(pe={days:j,startDate:C[e].date,endDate:C[e+1].date})}const xe=[];for(const[e,s]of Y.entries())for(const[f,j]of s.entries())xe.push({from:e,to:f,count:j});xe.sort((e,s)=>s.count-e.count);const ct=xe.slice(0,30),lt=Array.from(le.entries()).map(([e,s])=>({month:e,count:s})).sort((e,s)=>e.month.localeCompare(s.month)),dt=Array.from(de.entries()).map(([e,s])=>{const f=new Date(e);return{week:`${f.getFullYear()}ë…„ ${f.getMonth()+1}ì›” ${f.getDate()}ì¼ ì£¼`,count:s,sortKey:e}}).sort((e,s)=>e.sortKey.localeCompare(s.sortKey)).map(({week:e,count:s})=>({week:e,count:s})),mt=Array.from(G.entries()).map(([e,s])=>({month:e,count:s.size})).sort((e,s)=>{const f=j=>{const y=j.match(/(\d+)ë…„\s*(\d+)ì›”/);return y?parseInt(y[1])*12+parseInt(y[2]):0};return f(e.month)-f(s.month)}),ut=Array.from(Z.keys()).map(e=>{const f=(J.get(e)||new Set).size;return{name:e,daysActive:f}}).sort((e,s)=>s.daysActive-e.daysActive).slice(0,20);let Q=null,X=null;for(const e of r)e&&e.timestamp&&((!Q||e.timestamp<Q)&&(Q=e.timestamp),(!X||e.timestamp>X)&&(X=e.timestamp));return{stats:{totalMessages:l.length,totalParticipants:c.size,messagesByParticipant:c,messagesByDate:m,messagesByHour:g,messagesByDayOfWeek:p,messageTypes:x,topParticipants:Be,topDates:Ke,topHours:Oe,mentionsByParticipant:N,cryingByParticipant:u,laughingByParticipant:h,topMentioned:We,topCrying:He,topLaughing:_e,avgMessageLengthByParticipant:qe,topWords:Ue,lateNightParticipants:Ve,spamParticipants:Ye,photoSharing:Ge,videoSharing:Ze,linkSharing:Je,keywordMentions:ye,conversationStarters:Qe,conversationEnders:Xe,emotionAnalysis:{positive:et,negative:tt,questions:st,exclamations:nt},activityByTimeSlot:at,messageLengthPattern:{oneLine:we,short:Me,medium:ke,long:De,veryLong:Se,byParticipant:ot},conversationDensity:{avgMessagesPerDay:Math.round(it*10)/10,mostActiveDay:ge,quietestDay:_,longestGap:pe,activeDays:rt,totalDays:he},participantInteractions:ct,timelineHeatmap:{byMonth:lt,byWeek:dt},participationTrend:{monthlyParticipants:mt,participantActivityPeriod:ut}},allMessages:r,dateRange:{min:Q||new Date,max:X||new Date}}}function Bt(n){return new Promise((a,o)=>{const i=new FileReader;i.onload=r=>{var c;const l=(c=r.target)==null?void 0:c.result;typeof l=="string"?a(l):o(new Error("íŒŒì¼ì„ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."))},i.onerror=()=>o(new Error("íŒŒì¼ ì½ê¸° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")),i.readAsText(n,"UTF-8")})}function Kt({onFileSelect:n,fileName:a,isLoading:o}){const i=S.useRef(null),r=m=>{var p;const g=(p=m.target.files)==null?void 0:p[0];g&&n(g)},l=m=>{var p;m.preventDefault(),m.stopPropagation();const g=(p=m.dataTransfer.files)==null?void 0:p[0];g&&g.name.endsWith(".txt")&&n(g)},c=m=>{m.preventDefault(),m.stopPropagation()};return t.jsxs("div",{className:`file-upload ${o?"loading":""}`,onDrop:l,onDragOver:c,children:[t.jsx("input",{type:"file",ref:i,accept:".txt",onChange:r,className:"file-input"}),t.jsxs("div",{className:"upload-content",onClick:()=>{var m;return(m=i.current)==null?void 0:m.click()},children:[t.jsx("div",{className:"upload-icon",children:"ğŸ“"}),t.jsx("h3",{children:"ì¹´ì¹´ì˜¤í†¡ ëŒ€í™” ë‚´ì—­ ì—…ë¡œë“œ"}),t.jsx("p",{className:"upload-desc",children:"ì¹´ì¹´ì˜¤í†¡ì—ì„œ ë‚´ë³´ë‚¸ .txt íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ"}),t.jsx("button",{className:"btn btn-primary",disabled:o,children:o?"ë¶„ì„ ì¤‘...":"íŒŒì¼ ì„ íƒ"}),a&&t.jsxs("div",{className:"file-name",children:["ì„ íƒëœ íŒŒì¼: ",a]})]})]})}function Ot({dateRange:n,onApply:a,isLoading:o}){const i=u=>{const h=A=>String(A).padStart(2,"0");return`${u.getFullYear()}-${h(u.getMonth()+1)}-${h(u.getDate())}T${h(u.getHours())}:${h(u.getMinutes())}`},[r,l]=S.useState(i(n.min)),[c,m]=S.useState(i(n.max)),[g,p]=S.useState("ë²™, ì •ëª¨, ìˆ , ë§›ì§‘, ê³µì—°, ì—°ìŠµ, ë°´ë“œ, ìŒì•…, ë…¸ë˜, ë¼ì´ë¸Œ, ë½êµ");S.useEffect(()=>{l(i(n.min)),m(i(n.max))},[n]);const x=()=>{const u=g.split(",").map(h=>h.trim()).filter(h=>h.length>0);a({startDate:r?new Date(r):void 0,endDate:c?new Date(c):void 0,keywords:u.length>0?u:void 0})},N=()=>{l(i(n.min)),m(i(n.max)),p("ë²™, ì •ëª¨, ìˆ , ë§›ì§‘, ê³µì—°, ì—°ìŠµ, ë°´ë“œ, ìŒì•…, ë…¸ë˜, ë¼ì´ë¸Œ, ë½êµ"),a({startDate:n.min,endDate:n.max,keywords:["ë²™","ì •ëª¨","ìˆ ","ë§›ì§‘","ê³µì—°","ì—°ìŠµ","ë°´ë“œ","ìŒì•…","ë…¸ë˜","ë¼ì´ë¸Œ","ë½êµ"]})};return t.jsxs("div",{className:"filter-panel",children:[t.jsx("h2",{children:"ğŸ”§ í•„í„° ì„¤ì •"}),t.jsxs("div",{className:"filter-grid",children:[t.jsxs("div",{className:"filter-group date-filter",children:[t.jsx("h3",{children:"ğŸ“… ê¸°ê°„ í•„í„°"}),t.jsxs("div",{className:"input-group",children:[t.jsx("label",{children:"ì‹œì‘ ë‚ ì§œ/ì‹œê°„"}),t.jsx("input",{type:"datetime-local",value:r,min:i(n.min),max:i(n.max),onChange:u=>l(u.target.value)})]}),t.jsxs("div",{className:"input-group",children:[t.jsx("label",{children:"ì¢…ë£Œ ë‚ ì§œ/ì‹œê°„"}),t.jsx("input",{type:"datetime-local",value:c,min:i(n.min),max:i(n.max),onChange:u=>m(u.target.value)})]}),t.jsxs("div",{className:"date-range-info",children:["íŒŒì¼ ë²”ìœ„: ",n.min.toLocaleString("ko-KR")," ~"," ",n.max.toLocaleString("ko-KR")]})]}),t.jsxs("div",{className:"filter-group keyword-filter",children:[t.jsx("h3",{children:"ğŸ” í‚¤ì›Œë“œ ì„¤ì •"}),t.jsxs("div",{className:"input-group",children:[t.jsx("label",{children:"í‚¤ì›Œë“œ ëª©ë¡ (ì‰¼í‘œë¡œ êµ¬ë¶„)"}),t.jsx("textarea",{value:g,onChange:u=>p(u.target.value),placeholder:"ì˜ˆ: ë²™, ì •ëª¨, ìˆ , ë§›ì§‘, ê³µì—°",rows:4})]}),t.jsx("div",{className:"keyword-hint",children:"í‚¤ì›Œë“œëŠ” ì‰¼í‘œ(,)ë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•˜ì„¸ìš”."})]})]}),t.jsxs("div",{className:"filter-actions",children:[t.jsx("button",{className:"btn btn-primary",onClick:x,disabled:o,children:o?"ì²˜ë¦¬ ì¤‘...":"âœ… ì ìš©"}),t.jsx("button",{className:"btn btn-secondary",onClick:N,disabled:o,children:"ğŸ”„ ì´ˆê¸°í™”"})]})]})}function Wt({stats:n}){return t.jsxs("div",{className:"statistics-display",children:[t.jsx(k,{title:"ğŸ“Š ê¸°ë³¸ í†µê³„",children:t.jsxs("div",{className:"stat-grid",children:[t.jsx(L,{value:n.totalMessages.toLocaleString(),label:"ì´ ë©”ì‹œì§€ ìˆ˜"}),t.jsx(L,{value:n.totalParticipants.toString(),label:"ì´ ì°¸ì—¬ì ìˆ˜"})]})}),t.jsx(k,{title:"ğŸ“ ë©”ì‹œì§€ íƒ€ì…ë³„ í†µê³„",children:t.jsxs("div",{className:"stat-grid",children:[t.jsx(L,{value:n.messageTypes.text.toLocaleString(),label:`í…ìŠ¤íŠ¸ (${(n.messageTypes.text/n.totalMessages*100).toFixed(1)}%)`}),t.jsx(L,{value:n.messageTypes.photo.toLocaleString(),label:`ì‚¬ì§„ (${(n.messageTypes.photo/n.totalMessages*100).toFixed(1)}%)`}),t.jsx(L,{value:n.messageTypes.video.toLocaleString(),label:`ë™ì˜ìƒ (${(n.messageTypes.video/n.totalMessages*100).toFixed(1)}%)`}),t.jsx(L,{value:n.messageTypes.emoji.toLocaleString(),label:`ì´ëª¨í‹°ì½˜ (${(n.messageTypes.emoji/n.totalMessages*100).toFixed(1)}%)`}),t.jsx(L,{value:n.messageTypes.link.toLocaleString(),label:`ë§í¬ (${(n.messageTypes.link/n.totalMessages*100).toFixed(1)}%)`})]})}),t.jsx(k,{title:"ğŸ‘¥ ìƒìœ„ ì°¸ì—¬ì (Top 20)",children:t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","ë©”ì‹œì§€ ìˆ˜","ë¹„ìœ¨"],data:n.topParticipants,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"ê°œ"]}),t.jsxs("td",{className:"percentage",children:[(a.count/n.totalMessages*100).toFixed(1),"%"]})]})})}),t.jsx(k,{title:"ğŸ˜‚ ê°€ì¥ ë§ì´ ì›ƒì€ ì‚¬ëŒ (Top 20)",children:t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:n.topLaughing,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})}),t.jsx(k,{title:"ğŸ˜¢ ê°€ì¥ ë§ì´ ìš´ ì‚¬ëŒ (Top 20)",children:t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:n.topCrying,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})}),t.jsx(k,{title:"ğŸ·ï¸ ê³¨ë±…ì´ íƒœê·¸ë¡œ ê°€ì¥ ë§ì´ ì–¸ê¸‰ëœ ì‚¬ëŒ (Top 20)",children:t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:n.topMentioned,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})}),t.jsxs(k,{title:"ğŸ’¬ ì—°ì† ë©”ì‹œì§€ ìµœê³  ê¸°ë¡ (Top 20)",children:[t.jsx("p",{className:"section-desc",children:"ê°™ì€ ì‚¬ëŒì´ 5ë¶„ ì´ë‚´ì— ì—°ì†ìœ¼ë¡œ ë³´ë‚¸ ë©”ì‹œì§€ì˜ ìµœëŒ€ ê°œìˆ˜ì…ë‹ˆë‹¤."}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","ìµœëŒ€ ì—°ì†"],data:n.spamParticipants,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.maxConsecutive.toLocaleString(),"ê°œ"]})]})})]}),t.jsx(k,{title:"ğŸ¯ ëŒ€í™” ì£¼ë„ì & ì¢…ë£Œì (Top 20)",children:t.jsxs("div",{className:"dual-table",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"sub-title positive",children:"ğŸš€ ëŒ€í™” ì£¼ë„ì"}),t.jsx("p",{className:"section-desc",children:"ì´ì „ ë©”ì‹œì§€ì™€ 1ì‹œê°„ ì´ìƒ ê°„ê²©ì´ ìˆì„ ë•Œ ëŒ€í™”ë¥¼ ì‹œì‘í•œ ì‚¬ëŒì…ë‹ˆë‹¤."}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","ì‹œì‘ íšŸìˆ˜"],data:n.conversationStarters,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"sub-title warning",children:"ğŸ ëŒ€í™” ì¢…ë£Œì"}),t.jsx("p",{className:"section-desc",children:"ë©”ì‹œì§€ í›„ 1ì‹œê°„ ë™ì•ˆ ì•„ë¬´ë„ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ì§€ ì•Šì•„ ëŒ€í™”ë¥¼ ì¢…ë£Œí•œ ì‚¬ëŒì…ë‹ˆë‹¤."}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","ì¢…ë£Œ íšŸìˆ˜"],data:n.conversationEnders,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})]})]})}),t.jsx(k,{title:"ğŸ˜Š ê°ì •/í‘œí˜„ ë¶„ì„ (Top 20)",children:t.jsxs("div",{className:"quad-table",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"sub-title positive",children:"âœ¨ ê¸ì • í‘œí˜„"}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:n.emotionAnalysis.positive,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"sub-title negative",children:"ğŸ˜¢ ë¶€ì • í‘œí˜„"}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:n.emotionAnalysis.negative,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"sub-title info",children:"â“ ì§ˆë¬¸ í‘œí˜„"}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:n.emotionAnalysis.questions,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"sub-title warning",children:"ğŸ‰ ê°íƒ„ì‚¬"}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:n.emotionAnalysis.exclamations,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})]})]})}),t.jsx(k,{title:"ğŸ• ì‹œê°„ëŒ€ë³„ í™œë™ íŒ¨í„´",children:t.jsx(M,{headers:["ì‹œê°„ëŒ€","ë©”ì‹œì§€ ìˆ˜","ë¹„ìœ¨"],data:n.activityByTimeSlot,renderRow:a=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"name",children:a.slot}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"ê°œ"]}),t.jsxs("td",{className:"count",children:[a.percentage.toFixed(1),"%"]})]})})}),t.jsx(k,{title:"ğŸ“… ëŒ€í™” ë°€ë„ ë¶„ì„",children:t.jsxs("div",{className:"stat-grid",children:[t.jsx(L,{value:n.conversationDensity.avgMessagesPerDay.toString(),label:"ì¼í‰ê·  ë©”ì‹œì§€"}),t.jsx(L,{value:n.conversationDensity.activeDays.toString(),label:`í™œë™ ì¼ìˆ˜ / ${n.conversationDensity.totalDays}ì¼`}),t.jsx(L,{value:n.conversationDensity.mostActiveDay.date,label:`ê°€ì¥ í™œë°œí•œ ë‚  (${n.conversationDensity.mostActiveDay.count}ê°œ)`}),t.jsx(L,{value:n.conversationDensity.longestGap.days.toString(),label:"ìµœì¥ ê³µë°± ê¸°ê°„ (ì¼)"})]})}),t.jsx(k,{title:"ğŸ“ ìì£¼ ì‚¬ìš©ëœ ë‹¨ì–´ (Top 20)",children:t.jsx(M,{headers:["ìˆœìœ„","ë‹¨ì–´","íšŸìˆ˜"],data:n.topWords,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.word}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})}),t.jsxs(k,{title:"ğŸŒ™ ìƒˆë²½ í™œë™ê°€ (Top 20)",children:[t.jsx("p",{className:"section-desc",children:"ìƒˆë²½ 2ì‹œ~5ì‹œ ì‚¬ì´ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ íšŸìˆ˜ì…ë‹ˆë‹¤."}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:n.lateNightParticipants,renderRow:(a,o)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:o+1}),t.jsx("td",{className:"name",children:a.name}),t.jsxs("td",{className:"count",children:[a.count.toLocaleString(),"íšŒ"]})]})})]}),n.keywordMentions.size>0&&t.jsx(k,{title:"ğŸ” í‚¤ì›Œë“œ ì–¸ê¸‰ í†µê³„",children:t.jsx("div",{className:"keyword-grid",children:Array.from(n.keywordMentions.entries()).map(([a,o])=>t.jsxs("div",{className:"keyword-item",children:[t.jsxs("h4",{children:['"',a,'" í‚¤ì›Œë“œ']}),t.jsx(M,{headers:["ìˆœìœ„","ì´ë¦„","íšŸìˆ˜"],data:o,renderRow:(i,r)=>t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"rank",children:r+1}),t.jsx("td",{className:"name",children:i.name}),t.jsxs("td",{className:"count",children:[i.count.toLocaleString(),"íšŒ"]})]})})]},a))})})]})}function k({title:n,children:a}){return t.jsxs("section",{className:"stat-section",children:[t.jsx("h2",{children:n}),a]})}function L({value:n,label:a}){return t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"value",children:n}),t.jsx("div",{className:"label",children:a})]})}function M({headers:n,data:a,renderRow:o}){return a.length===0?t.jsx("p",{className:"no-data",children:"ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤."}):t.jsx("div",{className:"table-container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsx("tr",{children:n.map((i,r)=>t.jsx("th",{children:i},r))})}),t.jsx("tbody",{children:a.map((i,r)=>t.jsx("tr",{children:o(i,r)},r))})]})})}function Ht(){const[n,a]=S.useState(null),[o,i]=S.useState(""),[r,l]=S.useState(null),[c,m]=S.useState(!1),[g,p]=S.useState(null),x=S.useCallback(async u=>{m(!0),p(null),i(u.name);try{const h=await Bt(u);a(h);const A=$e(h);l(A)}catch(h){p(h instanceof Error?h.message:"íŒŒì¼ ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."),l(null)}finally{m(!1)}},[]),N=S.useCallback(u=>{n&&(m(!0),p(null),setTimeout(()=>{try{const h=$e(n,u.startDate,u.endDate,u.keywords);r&&(h.dateRange=r.dateRange),l(h)}catch(h){p(h instanceof Error?h.message:"í•„í„° ì ìš© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}finally{m(!1)}},50))},[n,r]);return t.jsx("div",{className:"page kakao-page",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"app-header animate-fade-in",children:[t.jsx(Mt,{to:"/",className:"back-link",children:"â† í™ˆìœ¼ë¡œ"}),t.jsxs("div",{className:"app-title-section",children:[t.jsx("span",{className:"app-icon",children:"ğŸ’¬"}),t.jsxs("div",{children:[t.jsx("h1",{className:"heading-2",children:"ì¹´ì¹´ì˜¤í†¡ ì±„íŒ… í†µê³„ ë¶„ì„ê¸°"}),t.jsx("p",{className:"text-secondary",children:"ì¹´ì¹´ì˜¤í†¡ ëŒ€í™” ë‚´ì—­ì„ ì—…ë¡œë“œí•˜ê³  ë‹¤ì–‘í•œ í†µê³„ë¥¼ í™•ì¸í•˜ì„¸ìš”"})]})]})]}),t.jsx("section",{className:"upload-section",children:t.jsx(Kt,{onFileSelect:x,fileName:o,isLoading:c})}),g&&t.jsxs("div",{className:"error-message",children:[t.jsx("strong",{children:"ì˜¤ë¥˜:"})," ",g]}),c&&t.jsxs("div",{className:"loading-indicator",children:[t.jsx("div",{className:"spinner"}),t.jsx("p",{children:"ë¶„ì„ ì¤‘..."})]}),r&&!c&&t.jsx("section",{className:"filter-section",children:t.jsx(Ot,{dateRange:r.dateRange,onApply:N,isLoading:c})}),r&&!c&&t.jsx("section",{className:"results-section",children:t.jsx(Wt,{stats:r.stats})}),!r&&!c&&!g&&t.jsxs("section",{className:"intro-section",children:[t.jsxs("div",{className:"features-grid",children:[t.jsx(W,{icon:"ğŸ“Š",title:"ëŒ€í™” í†µê³„",description:"ëˆ„ê°€ ì–¼ë§ˆë‚˜ ëŒ€í™”í–ˆëŠ”ì§€ ë¶„ì„"}),t.jsx(W,{icon:"ğŸ“ˆ",title:"ì‹œê°„ëŒ€ ë¶„ì„",description:"ì–¸ì œ ê°€ì¥ í™œë°œí•˜ê²Œ ëŒ€í™”í•˜ëŠ”ì§€"}),t.jsx(W,{icon:"ğŸ˜‚",title:"ê°ì • ë¶„ì„",description:"ì›ƒìŒ, ìš¸ìŒ í‘œí˜„ ë° ê°ì • í†µê³„"}),t.jsx(W,{icon:"ğŸ”¤",title:"í‚¤ì›Œë“œ ë¶„ì„",description:"ìì£¼ ì‚¬ìš©í•˜ëŠ” ë‹¨ì–´ì™€ í‚¤ì›Œë“œ"}),t.jsx(W,{icon:"ğŸ¯",title:"ëŒ€í™” íŒ¨í„´",description:"ëŒ€í™” ì£¼ë„ì, ì¢…ë£Œì ë¶„ì„"}),t.jsx(W,{icon:"ğŸ·ï¸",title:"ë©˜ì…˜ ë¶„ì„",description:"ê°€ì¥ ë§ì´ íƒœê·¸ëœ ì‚¬ëŒ"})]}),t.jsxs("div",{className:"how-to-use",children:[t.jsx("h3",{children:"ğŸ“– ì‚¬ìš© ë°©ë²•"}),t.jsxs("ol",{children:[t.jsx("li",{children:"ì¹´ì¹´ì˜¤í†¡ ì±„íŒ…ë°©ì—ì„œ ëŒ€í™” ë‚´ë³´ë‚´ê¸° (ì„¤ì • â†’ ëŒ€í™” ë‚´ë³´ë‚´ê¸°)"}),t.jsx("li",{children:"ë‚´ë³´ë‚¸ .txt íŒŒì¼ì„ ìœ„ ì˜ì—­ì— ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ"}),t.jsx("li",{children:"ë¶„ì„ ê²°ê³¼ í™•ì¸ ë° í•„í„° ì¡°ì •"})]})]})]})]})})}function W({icon:n,title:a,description:o}){return t.jsxs("div",{className:"feature-card",children:[t.jsx("span",{className:"feature-icon",children:n}),t.jsx("h4",{children:a}),t.jsx("p",{className:"text-muted",children:o})]})}function zt(){return t.jsx("div",{className:"kakao-app",children:t.jsx(kt,{children:t.jsx(Dt,{index:!0,element:t.jsx(Ht,{})})})})}export{zt as default};
